(this["webpackJsonppawup-clientside"]=this["webpackJsonppawup-clientside"]||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/paws-logo.812d3403.png"},30:function(e,t,a){e.exports=a(71)},35:function(e,t,a){},53:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),o=a.n(s),l=a(1),i=(a(35),a(29)),c=a(6),m=a(7),u=a(9),d=a(8),p=a(10),h=a(14),f=a(13),E=(a(53),a(16)),g=a.n(E),b={API_BASE_URL:Object({NODE_ENV:"production",PUBLIC_URL:""}).API_BASE_URL,TOKEN_KEY:Object({NODE_ENV:"production",PUBLIC_URL:""}).TOKEN_KEY,API_ENDPOINT:"http://localhost:8000/api"},N={saveAuthToken:function(e){window.localStorage.setItem(b.TOKEN_KEY,e)},getAuthToken:function(){return window.localStorage.getItem(b.TOKEN_KEY)},clearAuthToken:function(){window.localStorage.removeItem(b.TOKEN_KEY)},hasAuthToken:function(){return!!N.getAuthToken()},makeBasicAuthToken:function(e,t){return window.btoa("".concat(e,": ").concat(t))}},v=N;var w=function(e){return r.a.createElement("div",{className:"header-nav"},r.a.createElement(l.b,{to:"/",className:"nav-title"},r.a.createElement("img",{className:"icon",src:g.a,alt:"paw-logo"}),r.a.createElement("span",{className:"title"},"PawUp")),r.a.createElement(f.slide,{right:!0},r.a.createElement(l.b,{to:"/",id:"home",className:"menu-item"},"Home"),r.a.createElement("br",null),r.a.createElement(l.b,{id:"demo",className:"menu-item",to:"/posts"},"Posts"),r.a.createElement("br",null),r.a.createElement(l.b,{id:"signup",className:"menu-item",to:"/signup"},"Sign Up"),r.a.createElement("br",null),v.hasAuthToken()?r.a.createElement(l.b,{to:"/",className:"menu-item",onClick:e.handleLogout},"Log out"):r.a.createElement(l.b,{id:"login",className:"menu-item",to:"/login"},"Log In")))},y=r.a.createContext({posts:[],addPost:function(){},deletePost:function(){}}),P=a(17),_=a.n(P);a(58);a(59);var j=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{role:"main",className:"landing-main"},r.a.createElement("header",{role:"banner",className:"landing-header"},r.a.createElement("h1",{id:"landing-title"},"PawUp"),r.a.createElement("h2",{id:"phrase"},"Connect your pets with pets from your neighborhood."),r.a.createElement(l.b,{to:"/signup"},r.a.createElement("button",{className:"btn"},"Sign Up Today!"))),r.a.createElement("section",{className:"desc-section"})),r.a.createElement("footer",{className:"footer"},r.a.createElement("h5",null,"Huseyin Gundogdu"),r.a.createElement("p",null,"Copyright @ 2019")))};a(60);var O=function(e){return r.a.createElement("main",null,r.a.createElement("div",{role:"banner"},r.a.createElement("h1",{className:"main-title-post"},"PawUp Community Pets")),r.a.createElement("section",{className:"post-main"},e.posts.map((function(e){return r.a.createElement("section",{key:e.id,className:"card"},r.a.createElement("h4",{className:"dog_name"},e.pet_name),r.a.createElement("section",{className:"container"},r.a.createElement("p",null,"Owner Email: ",r.a.createElement("a",{href:"mailto:".concat(e.email,"?subject=Interested in ").concat(e.pet_name,"!"),className:"email"},e.email)),r.a.createElement("p",null,"Birthdate: ",_()(e.birthdate).format("MM-DD-YYYY")),r.a.createElement("p",null,"Type of Pet: ",e.types_of_pet),r.a.createElement("p",null,"Hobbies: ",e.hobbies)))}))))};a(61);var S=function(e){return r.a.createElement("main",{className:"flex-container"},r.a.createElement("header",null,r.a.createElement("h1",{className:"post-title"},"New Post")),r.a.createElement("section",{className:"post-form-section"},r.a.createElement("form",{id:"post-form",className:"post-form",onSubmit:e.addPost},r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"pet_name"},"Pet Name"),r.a.createElement("input",{type:"text",name:"dog_name",placeholder:"Jax",required:!0})),r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"breed"},"Type of Pet"),r.a.createElement("input",{type:"text",name:"breed",placeholder:"Maltipoo",required:!0})),r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"dog_bday"},"Birthdate"),r.a.createElement("input",{type:"date",name:"dog_bday"})),r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"lifestyle"},"Hobbies"),r.a.createElement("textarea",{name:"lifestyle",rows:"15",placeholder:"Please enter a description of your dogs needs and lifestyle",required:!0})),r.a.createElement("button",{type:"submit",className:"sub-btn"},"Submit"),r.a.createElement("button",{type:"reset",className:"res-btn"},"Reset"))))};a(62);var k=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/",className:"nav-title"},r.a.createElement("img",{className:"icon",src:g.a,alt:"paws-up-logo"})," ",r.a.createElement("span",{className:"title"},"PawUp")),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.slide,null,r.a.createElement(l.b,{to:"/posts",className:"menu-item"},"Posts"),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/myPosts",className:"menu-item"},"My Post"),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/profile",className:"menu-item"},"Profile"),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/posts",className:"menu-item",onClick:e.handleLogout},"Log out"))))},T=(a(63),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={posts:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(v.getAuthToken())}};fetch("".concat(b.API_BASE_URL,"/posts/myposts"),t).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(t){e.setState({posts:t})})).catch((function(e){alert("Something went wrong ".concat(e))}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"flex-container"},r.a.createElement("header",{role:"banner"},r.a.createElement("h1",null,"My Posts")),r.a.createElement("section",{className:"myPost-grid"},this.state.posts.map((function(t){return r.a.createElement("section",{key:t.id,className:"myPost-container"},r.a.createElement("h4",{className:"dog_name"},t.dog_name),r.a.createElement("section",{className:"container"},r.a.createElement("p",null,"Owner Email:  ",r.a.createElement("a",{href:"mailto:".concat(t.email,"?subject=Interested in ").concat(t.pet_name,"!"),className:"email"},t.email)),r.a.createElement("p",null,"Birthdate: ",_()(t.birthdate).format("MM-DD-YYYY")),r.a.createElement("p",null,"Types-of-pet: ",t.types_of_pet),r.a.createElement("p",null,"Hobbies: ",t.hobbies)),r.a.createElement("button",{className:"deletePostBtn",onClick:function(){return e.props.handleDeletePost(t.id,e.handleDeletePost),e.setState({posts:e.state.posts.filter((function(e){return e.id!==t.id}))})}},"Delete"),r.a.createElement(l.b,{to:"/edit"},r.a.createElement("button",{className:"update-btn",onClick:function(){e.props.setId(t.id)}},"Update")))})))))}}]),t}(n.Component));a(64);var A=function(e){return r.a.createElement("section",{className:"flex-container"},r.a.createElement("h2",{className:"login-title"},"Log In"),r.a.createElement("form",{className:"login_form",onSubmit:e.loginUser},r.a.createElement("section",{className:"login_form-container"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"login_email"},"Email:"),r.a.createElement("input",{type:"email",name:"login_email",id:"login_email"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"login_password"},"Password:"),r.a.createElement("input",{type:"password",name:"password",id:"login_password"})),r.a.createElement("button",{type:"submit",className:"sub-btn"},"Log in"),e.error?r.a.createElement("h4",null,"Incorrect Email or Password"):r.a.createElement(r.a.Fragment,null))),r.a.createElement("section",null,r.a.createElement("h3",null,"PawUp Demo Credentials"),r.a.createElement("p",null,"Email: abc@xyz.com"),r.a.createElement("p",null,"Password: password")))};a(65);var L=function(e){var t=e.posts.filter((function(t){return t.id===e.postId}));return t?r.a.createElement("main",{className:"flex-container"},r.a.createElement("header",null,r.a.createElement("h1",{className:"update-post-title"},"Update Post")),r.a.createElement("section",{className:"update-post-section"},r.a.createElement("form",{id:"update-post-form",className:"update-post-form",onSubmit:e.updatePost},r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"pet_name"},"Pet Name"),r.a.createElement("input",{type:"text",name:"pet_name",defaultValue:t[0].pet_name,required:!0})),r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"owner_email"},"Email"),r.a.createElement("input",{type:"email",name:"owner_email",defaultValue:t[0].email,required:!0})),r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"breed"},"Type of Pet"),r.a.createElement("input",{type:"text",name:"type_of_pet",defaultValue:t[0].type_of_pet,required:!0})),r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"lifestyle"},"Hobbies"),r.a.createElement("textarea",{name:"lifestyle",rows:"15",placeholder:"Please enter a description of your dogs needs and lifestyle",defaultValue:t[0].hobbies,required:!0})),r.a.createElement("button",{type:"submit",className:"sub-btn"},"Submit"),r.a.createElement("button",{type:"reset",className:"res-btn"},"Reset")))):r.a.createElement("main",null,r.a.createElement("h1",null,"No Post To Update!"),r.a.createElement("h2",null,"Try Again"))},U=(a(66),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={users:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(v.getAuthToken())}};fetch("".concat(b.API_BASE_URL,"/users/user"),t).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(t){e.setState({users:t})})).catch((function(e){throw new Error(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"flex-container"},r.a.createElement("header",{role:"banner"},r.a.createElement("h2",null,"My Profile")),r.a.createElement("section",{key:this.state.users.id,className:"profile-section"},r.a.createElement("h4",{className:"profile-title"},this.state.users.first_name," ",this.state.users.last_name),r.a.createElement("p",null,"Email: ",this.state.users.email),r.a.createElement("button",{className:"deletePostBtn",onClick:function(){e.props.deleteUser(e.state.users.id,e.deleteUser)}},"Delete"),r.a.createElement(l.b,{to:"/editProfile"},r.a.createElement("button",{className:"update-btn"},"Update"))))}}]),t}(n.Component)),I=(a(67),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateUser=function(e){e.preventDefault();var t={first_name:e.target.first_name.value,last_name:e.target.last_name.value,email:e.target.email.value};fetch("".concat(b.API_BASE_URL,"/users/user"),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(v.getAuthToken())}}).then((function(e){if(!e.ok)return e.json().then((function(e){throw e}));v.clearAuthToken(),window.location.href="/login"}))},a.state={users:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(v.getAuthToken())}};fetch("".concat(b.API_BASE_URL,"/users/user"),t).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(t){e.setState({users:t})})).catch((function(e){throw new Error(e)}))}},{key:"render",value:function(){return this.state.users?r.a.createElement("main",{className:"flex-container"},r.a.createElement("header",null,r.a.createElement("h1",{className:"update-user-title"},"Update User")),r.a.createElement("section",{className:"update-user-section"},r.a.createElement("form",{id:"update-user-form",className:"update-user-form",onSubmit:this.updateUser},r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"first_name"},"First Name"),r.a.createElement("input",{type:"text",name:"first_name",id:"first_name",defaultValue:this.state.users.first_name,required:!0})),r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"last_name"},"Last Name"),r.a.createElement("input",{type:"text",name:"last_name",id:"last_name",defaultValue:this.state.users.last_name,required:!0})),r.a.createElement("div",{className:"form-section"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",defaultValue:this.state.users.email,required:!0})),r.a.createElement("button",{type:"submit",className:"sub-btn"},"Submit"),r.a.createElement("button",{type:"reset",className:"res-btn"},"Reset")))):r.a.createElement("main",null,r.a.createElement("h1",null,"User Does Not Exist!"),r.a.createElement("h2",null,"Try Again"))}}]),t}(n.Component)),D={postLogin:function(e){var t=e.email,a=e.password;return fetch("".concat(b.API_ENDPOINT,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}));e.json()})).catch((function(e){console.error({error:e})}))},postUser:function(e){return fetch("".concat(b.API_ENDPOINT,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e})}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}));e.json()})).catch((function(e){console.error({error:e})}))}},C=a(27);var x=function(e){return e.message?r.a.createElement("div",{className:"error"},e.message):r.a.createElement(r.a.Fragment,null)};a(68);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleUserSubmit=function(e){e.preventDefault();var t={first_name:a.state.first_name,last_name:a.state.last_name,email:a.state.email,password:a.state.password};fetch("".concat(b.API_BASE_URL,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){document.getElementById("signup_form").reset(),window.location.href="/login"})).catch((function(e){a.setState({signupError:e})}))},a.state={first_name:"",last_name:"",email:"",password:"",repeatPassword:"",firstNameValid:!1,lastNameValid:!1,emailValid:!1,passwordValid:!1,passwordMatch:!1,formValid:!1,validationMessages:{first_name:"",last_name:"",email:"",password:"",repeatPassword:""}},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"validateFirstName",value:function(e){var t=M({},this.state.validationMessages),a=!1;0===(e=e.trim()).length?(t.name="Name is required",a=!0):(t.name="",a=!1),this.setState({validationMessages:t,firstNameValid:!a},this.formValid)}},{key:"validateLastName",value:function(e){var t=M({},this.state.validationMessages),a=!1;0===(e=e.trim()).length?(t.name="Name is required",a=!0):(t.name="",a=!1),this.setState({validationMessages:t,lastNameValid:!a},this.formValid)}},{key:"validatePassword",value:function(e){var t=M({},this.state.validationMessages),a=!1;0===(e=e.trim()).length?(t.password="Password is required",a=!0):e.length<8||e.length>72?(t.password="Password must be between 8 and 72 characters long",a=!0):e.match(new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/))?(t.password="",a=!1):(t.password="Password must contain at least one number and one letter and one special character",a=!0),this.setState({validationMessages:t,passwordValid:!a},this.formValid)}},{key:"validateEmail",value:function(e){var t=M({},this.state.validationMessages),a=!1;0===(e=e.trim()).length?(t.email="Email is required",a=!0):e.match(new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))?(t.email="",a=!1):(t.email="Invalid Email Address",a=!0),this.setState({validationMessages:t,emailValid:!a},this.formValid)}},{key:"matchPasswords",value:function(e){var t=M({},this.state.validationMessages),a=!1;e!==this.state.password?(t.repeatPassword="Passwords do not match",a=!0):(t.repeatPassword="",a=!1),this.setState({validationMessages:t,passwordMatch:!a},this.formValid)}},{key:"formValid",value:function(){this.setState({formValid:this.state.emailValid&&this.state.passwordValid&&this.state.passwordMatch})}},{key:"updateFirstName",value:function(e){var t=this;this.setState({first_name:e},(function(){t.validateFirstName(e)}))}},{key:"updateLastName",value:function(e){var t=this;this.setState({last_name:e},(function(){t.validateLastName(e)}))}},{key:"updatePassword",value:function(e){var t=this;this.setState({password:e},(function(){t.validatePassword(e)}))}},{key:"updateRepeatPassword",value:function(e){var t=this;this.setState({repeatPassword:e},(function(){t.matchPasswords(e)}))}},{key:"updateEmail",value:function(e){var t=this;this.setState({email:e},(function(){t.validateEmail(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"flex-container"},r.a.createElement("header",null,r.a.createElement("h3",{className:"signup-title"},"Find Your PawUp Friend Today")),r.a.createElement("section",{className:"form-container"},r.a.createElement("form",{className:"signup_form",id:"signup_form",onSubmit:function(t){return e.handleUserSubmit(t)}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"first_name"},"First name:"),r.a.createElement("input",{placeholder:"First Name",type:"text",name:"first_name",id:"first-name",onChange:function(t){return e.updateFirstName(t.target.value)},required:!0}),r.a.createElement(x,{hasError:!this.state.firstNameValid,message:this.state.validationMessages.name})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"last_name"},"Last name:"),r.a.createElement("input",{type:"text",name:"last_name",id:"last-name",placeholder:"Last Name",onChange:function(t){return e.updateLastName(t.target.value)},required:!0}),r.a.createElement(x,{hasError:!this.state.lastNameValid,message:this.state.validationMessages.name})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"email",name:"email",id:"email",onChange:function(t){return e.updateEmail(t.target.value)},required:!0}),r.a.createElement(x,{hasError:!this.state.emailValid,message:this.state.validationMessages.email})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password (8 characters minimum):"),r.a.createElement("input",{type:"password",name:"password",id:"password",minLength:"8",onChange:function(t){return e.updatePassword(t.target.value)},required:!0}),r.a.createElement(x,{hasError:!this.state.passwordValid,message:this.state.validationMessages.password})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"confirm"},"Confirm Password:"),r.a.createElement("input",{type:"password",name:"confirm",id:"confirm",minLength:"8",onChange:function(t){return e.updateRepeatPassword(t.target.value)},required:!0}),r.a.createElement(x,{hasError:!this.state.passwordMatch,message:this.state.validationMessages.repeatPassword})),r.a.createElement("button",{className:"sub-btn",type:"submit",disabled:!this.state.formValid},"Sign Up"))))}}]),t}(n.Component);var q=function(e){return r.a.createElement(f.slide,null,r.a.createElement(l.b,{to:"/posts",className:"menu-item"},"Posts"),r.a.createElement("br",{className:"bm-item"}),r.a.createElement(l.b,{to:"/addPost",className:"menu-item"},"Create Post"),r.a.createElement("br",{className:"bm-item"}),r.a.createElement(l.b,{to:"/myPost",className:"menu-item"},"My Post"),r.a.createElement("br",{className:"bm-item"}),r.a.createElement(l.b,{to:"/profile",className:"menu-item"},"Profile"),r.a.createElement("br",{className:"bm-item"}),r.a.createElement(l.b,{to:"/posts",className:"menu-item",onClick:e.handleLogout},"Log out"))};a(69);var B=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/",className:"nav-title"},r.a.createElement("img",{className:"icon",src:g.a,alt:"paws-logo"}),r.a.createElement("span",{className:"title"},"PawUp")),r.a.createElement(r.a.Fragment,null,v.hasAuthToken()?r.a.createElement(q,{handleLogout:e.handleLogout}):r.a.createElement(f.slide,{right:!0},r.a.createElement(l.b,{to:"/login",className:"menu-item"},"Log In"),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/signup",className:"menu-item"},"Sign Up"))))},R=(a(70),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],post_id:null,logged_in:!1,logInError:null,signUpError:null},a.handleSubmit=function(e){e.preventDefault();var t={pet_name:e.target.pet_name.value,age:e.target.age.value,types_of_pet:e.target.types_of_pet.value,hobbies:e.target.hobbies.value};fetch("".concat(b.API_ENDPOINT,"/posts"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(v.getAuthToken())},body:JSON.stringify(t)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){a.addPost(e),document.getElementById("post-form").reset(),window.location.href="posts"})).catch((function(e){console.error({err:e})}))},a.handleDeletePost=function(e){fetch("".concat(b.API_ENDPOINT,"/posts/").concat(e),{method:"DELETE",headers:{Authorization:"bearer ".concat(v.getAuthToken())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(){a.setState({posts:a.state.posts.filter((function(t){return t.id!==e}))})})).catch((function(e){console.error({err:e})}))},a.handleDeleteUser=function(e){fetch("".concat(b.API_ENDPOINT,"/users/user"),{method:"DELETE",headers:{Authorization:"bearer ".concat(v.getAuthToken())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(){a.setState({posts:a.state.posts.filter((function(t){return t.id!==e}))}),v.clearAuthToken(),window.location.href="/posts"}))},a.loginUser=function(e){e.preventDefault();var t=e.target,n=t.login_email,r=t.login_password;D.postLogin({email:n.value,password:r.value}).then((function(e){n.value="",r.value="",v.saveAuthToken(e.authToken),a.setState({logged_in:!0}),window.location.href="/posts"})).catch((function(e){a.setState({logInError:e})}))},a.handleUpdate=function(e,t){t.preventDefault();var a={pet_name:t.target.pet_name.value,types_of_pet:t.target.types_of_pet.value,email:t.target.email.value,hobbies:t.target.hobbies.value};fetch("".concat(b.API_ENDPOINT,"/posts/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(v.getAuthToken())},body:JSON.stringify(a)}).then((function(e){if(!e.ok)return e.json().then((function(e){throw e}));window.location.href="/myposts"}))},a.handleLogout=function(){v.clearAuthToken()},a.addPost=function(e){a.setState({posts:[].concat(Object(i.a)(a.state.posts),[e])})},a.setPostId=function(e){a.setState({post_id:e})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(b.API_ENDPOINT,"/posts"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong.")})).then((function(t){e.setState({posts:t})})).catch((function(e){console.error({error:e})})),this.state.logged_in&&this.getUser()}},{key:"getMyPosts",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v.getAuthToken())}};fetch("".concat(b.API_ENDPOINT,"/posts/myposts"),t).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(t){e.setState({myposts:t})})).catch((function(e){console.error({err:e})}))}},{key:"render",value:function(){var e=this,t={posts:this.state.posts};return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},r.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(w,Object.assign({},t,{handleLogout:e.handleLogout,logged_in:e.state.logged_in}))}}),r.a.createElement(h.a,{path:"/posts",render:function(t){return r.a.createElement(B,Object.assign({},t,{handleLogout:e.handleLogout}))}}),r.a.createElement(h.a,{path:"/myposts",render:function(t){return r.a.createElement(B,Object.assign({},t,{handleLogout:e.handleLogout}))}}),r.a.createElement(h.a,{path:"/edit",render:function(t){return r.a.createElement(B,Object.assign({},t,{handleLogout:e.handleLogout}))}}),r.a.createElement(h.a,{path:"/login",render:function(t){return r.a.createElement(B,Object.assign({},t,{handleLogout:e.handleLogout}))}}),r.a.createElement(h.a,{path:"/profile",render:function(t){return r.a.createElement(B,Object.assign({},t,{handleLogout:e.handleLogout}))}}),r.a.createElement(h.a,{path:"/editProfile",render:function(t){return r.a.createElement(B,Object.assign({},t,{handleLogout:e.handleLogout}))}}),r.a.createElement(h.a,{path:"/signup",render:function(t){return r.a.createElement(B,Object.assign({},t,{handleLogout:e.handleLogout}))}}),r.a.createElement(h.a,{path:"/addPost",render:function(t){return r.a.createElement(k,Object.assign({},t,{handleLogout:e.handleLogout}))}})),r.a.createElement("div",{className:"App_main"},r.a.createElement(y.Provider,{value:t},r.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(j,Object.assign({},t,{posts:e.state.posts,addUser:function(t){return e.handleUserSubmit(t)},signUpError:e.state.signUpError}))}}),r.a.createElement(h.a,{exact:!0,path:"/myposts",render:function(t){return r.a.createElement(T,Object.assign({},t,{setId:function(t){return e.setPostId(t)},handleDeletePost:function(t){return e.handleDeletePost(t)}}))}}),r.a.createElement(h.a,{exact:!0,path:"/edit",render:function(t){return r.a.createElement(L,Object.assign({},t,{posts:e.state.posts,postId:e.state.post_id,updatePost:function(t){return e.handleUpdate(e.state.post_id,t)}}))}}),r.a.createElement(h.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(A,Object.assign({},t,{loginUser:function(t){return e.loginUser(t)},error:e.state.logInError}))}}),r.a.createElement(h.a,{exact:!0,path:"/editProfile",component:I}),r.a.createElement(h.a,{exact:!0,path:"/posts",render:function(t){return r.a.createElement(O,Object.assign({},t,{posts:e.state.posts}))}}),r.a.createElement(h.a,{exact:!0,path:"/addPost",render:function(t){return r.a.createElement(S,Object.assign({},t,{addPost:function(t){return e.handleSubmit(t)}}))}}),r.a.createElement(h.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(U,Object.assign({},t,{deleteUser:function(t){return e.handleDeleteUser(t)}}))}}),r.a.createElement(h.a,{exact:!0,path:"/signup",component:V}))))}}]),t}(n.Component)),Y=a(28);a.n(Y).a.load({google:{families:["Unica One","cursive"]}}),o.a.render(r.a.createElement(l.a,null,r.a.createElement(R,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.f8d9c163.chunk.js.map